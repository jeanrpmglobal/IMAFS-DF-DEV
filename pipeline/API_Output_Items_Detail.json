{
	"name": "API_Output_Items_Detail",
	"properties": {
		"activities": [
			{
				"name": "Copy Items Detail to Json file",
				"type": "Copy",
				"dependsOn": [],
				"policy": {
					"timeout": "0.12:00:00",
					"retry": 0,
					"retryIntervalInSeconds": 30,
					"secureOutput": false,
					"secureInput": false
				},
				"userProperties": [],
				"typeProperties": {
					"source": {
						"type": "AzureSqlSource",
						"sqlReaderQuery": "SELECT       ITEMS.item_id AS [Item ID], ITEMS.inventory_item_id AS [Item No], ITEMS.organization_id AS [Org ID], ITEMS.warehouse_descrp AS Warehouse, ITEMS.description AS Description, \n                         ITEMS.product_cat AS [Prod Cat], ITEMS.product_sub_cat AS [Prod Sub Cat], ITEMS.nature_code AS [Nature Code], ITEMS.buyer AS Buyer, ITEMS.analyste AS Analyst, \n                         ITEMS.MANUFACTURER_PART_NUM AS [Manuf Part Num], ITEMS.MANUFACTURER_NAME AS [Manuf Name], SP_LIST_MAIN_TEMP.VENDOR_ID AS [Preferred Supplier No], \n                         SP_LIST_MAIN_TEMP.VENDOR_NAME AS [Preferred Supplier Name], ITEMS.CONTRACT AS Contract, ITEMS.saisonalite AS Seasonality, ITEMS.Intermittent, ITEMS.status AS Status, ITEMS.stockable AS Stockable, \n                         ITEMS.units AS UOM, ITEMS.creation_date AS [Creation Date], ITEMS.family AS Family, ITEMS.family_descrp AS [Family Desc], ITEMS.criticality AS Criticality, dbo.CRITICALITY.Description AS [Criticality Desc], \n                         ITEMS.class AS [Class Final], ITEMS.class_auto AS [Class Auto], ITEMS.class_manual AS [Class Man], dbo.CLASSES_FAMILY.description AS [Class Desc], ITEMS.modified_man_reason AS [Reason Class Chg], \n                         ITEMS.lead_time AS [LT Final], ITEMS.lead_time_auto AS [LT Auto], ITEMS.lead_time_man AS [LT Man], ITEMS.lead_time_req_rec AS [LT Theo], ITEMS.demand_multiple AS [Usage Multiple], \n                         ITEMS.nbr_per_reord AS [Number of mths to order], ITEMS.std_pack_multiple AS [Std Pack], SP_LIST_MAIN_TEMP.SS_final AS [SS Final], ITEMS.qty_ss_item AS [SS Auto], ITEMS.qty_ss_item_man AS [SS Man], \n                         SP_LIST_MAIN_TEMP.MIN_final AS [Min Final], ITEMS.reord_pt_item AS [Min Auto], ITEMS.reord_pt_item_man AS [Min Man], SP_LIST_MAIN_TEMP.MAX_final AS [Max Final], ITEMS.qty_max_item AS [Max Auto], \n                         ITEMS.qty_max_item_man AS [Max Man], (CASE WHEN items.qty_max_item_man IS NULL THEN 'false' ELSE 'true' END) AS [Manually Managed], ITEMS.qty_ss_item_man_reason AS [Reason SS Min Max chg], \n                         ITEMS.MAX_SHELF AS [Max Shelf], ITEMS.avg_cost AS [Avg Unit Cost], ITEMS.reord_cost AS [Current Cost], ITEMS.qoh_qty AS [Qty on Hand], ITEMS.atp_qty AS [Net Inventory], ITEMS.po_qty AS [Qty on Order], \n                         ITEMS.req_qty AS [Qty Required], ITEMS.reserved_qty AS [Qty Reserved], ITEMS.recv_qty AS [Qty in Transit], ITEMS.Nb_Month_Zero_Demand AS [Nb Mths Zero Dmd], \n                         SP_LIST_MAIN_TEMP.DMD_1_12_Month AS [Dmd last 1-12 mths], SP_LIST_MAIN_TEMP.DMD_12_24_Month AS [Dmd last 13-24 mths], SP_LIST_MAIN_TEMP.DMD_24_36_Month AS [Dmd last 25-36 mths], \n                         SP_LIST_MAIN_TEMP.hits_12_M AS [Hits last 1-12 mths], SP_LIST_MAIN_TEMP.SUM_QTY_FORECAST AS [Fcst 12 mths]\nFROM            dbo.ITEMS INNER JOIN\n                         dbo.SP_LIST_MAIN_TEMP ON dbo.ITEMS.item_id = dbo.SP_LIST_MAIN_TEMP.item_id LEFT OUTER JOIN\n                         dbo.CLASSES_FAMILY ON dbo.ITEMS.class = dbo.CLASSES_FAMILY.class AND dbo.ITEMS.family = dbo.CLASSES_FAMILY.Family_ID LEFT OUTER JOIN\n                         dbo.CRITICALITY ON dbo.ITEMS.criticality = dbo.CRITICALITY.criticality\nWHERE        (ITEMS.DELETION_FLAG IS NULL)\nORDER BY ITEMS.item_id",
						"queryTimeout": "02:00:00",
						"partitionOption": "None"
					},
					"sink": {
						"type": "JsonSink",
						"storeSettings": {
							"type": "AzureBlobStorageWriteSettings"
						},
						"formatSettings": {
							"type": "JsonWriteSettings"
						}
					},
					"enableStaging": false
				},
				"inputs": [
					{
						"referenceName": "StoredProc_DEV_IMAFS_CANROY_JAN_2024",
						"type": "DatasetReference"
					}
				],
				"outputs": [
					{
						"referenceName": "blob_API_Items_Detail",
						"type": "DatasetReference"
					}
				]
			}
		],
		"folder": {
			"name": "APIs"
		},
		"annotations": [],
		"lastPublishTime": "2024-01-19T15:16:30Z"
	},
	"type": "Microsoft.DataFactory/factories/pipelines"
}